<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لعبة الأفعال والأسماء - 100 كلمة</title>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100%;
            color: #333;
        }
        
        html {
            height: 100%;
        }
        
        .game-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .title {
            font-size: 2.5rem;
            color: #4a5568;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .level-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .level-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .level-1 { background: linear-gradient(45deg, #48bb78, #38a169); color: white; }
        .level-2 { background: linear-gradient(45deg, #4299e1, #3182ce); color: white; }
        .level-3 { background: linear-gradient(45deg, #ed8936, #dd6b20); color: white; }
        .level-4 { background: linear-gradient(45deg, #e53e3e, #c53030); color: white; }
        .level-5 { background: linear-gradient(45deg, #805ad5, #6b46c1); color: white; }
        
        .level-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        
        .level-btn.active {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }
        
        .progress-bar {
            background: #e2e8f0;
            border-radius: 10px;
            height: 20px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #48bb78, #38a169);
            transition: width 0.3s ease;
            border-radius: 10px;
        }
        
        .score-board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            background: #f7fafc;
            padding: 20px;
            border-radius: 15px;
        }
        
        .score-item {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        .correct-score { background: #c6f6d5; color: #22543d; }
        .wrong-score { background: #fed7d7; color: #742a2a; }
        .level-score { background: #bee3f8; color: #2a4365; }
        .total-score { background: #e6fffa; color: #234e52; }
        
        .word-display {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .current-word {
            font-size: 3.5rem;
            font-weight: bold;
            color: #2d3748;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            padding: 30px;
            border: 3px dashed #e2e8f0;
            border-radius: 15px;
            margin-bottom: 20px;
            line-height: 1.2;
        }
        
        .word-info {
            font-size: 1.2rem;
            color: #4a5568;
            margin-bottom: 10px;
        }
        
        .buttons-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
        }
        
        .choice-btn {
            padding: 25px 50px;
            font-size: 1.8rem;
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
        
        .verb-btn {
            background: linear-gradient(45deg, #48bb78, #38a169);
            color: white;
        }
        
        .noun-btn {
            background: linear-gradient(45deg, #ed8936, #dd6b20);
            color: white;
        }
        
        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 20px rgba(0,0,0,0.2);
        }
        
        .choice-btn:active {
            transform: translateY(0);
        }
        
        .choice-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .feedback {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .correct {
            color: #22543d;
            background: #c6f6d5;
            padding: 15px 25px;
            border-radius: 10px;
        }
        
        .wrong {
            color: #742a2a;
            background: #fed7d7;
            padding: 15px 25px;
            border-radius: 10px;
        }
        
        .next-btn, .start-btn {
            display: block;
            margin: 0 auto;
            padding: 15px 30px;
            font-size: 1.2rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .next-btn:hover, .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        
        .level-complete, .game-over {
            text-align: center;
            background: #f7fafc;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
        }
        
        .final-score {
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .restart-btn, .next-level-btn {
            padding: 15px 30px;
            font-size: 1.2rem;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }
        
        .restart-btn {
            background: linear-gradient(45deg, #48bb78, #38a169);
        }
        
        .next-level-btn {
            background: linear-gradient(45deg, #4299e1, #3182ce);
        }
        
        .restart-btn:hover, .next-level-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        
        .level-info {
            background: #edf2f7;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .choice-btn {
                padding: 20px 30px;
                font-size: 1.5rem;
            }
            
            .current-word {
                font-size: 2.5rem;
                padding: 20px;
            }
            
            .buttons-container {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <main class="game-container">
        <header class="header">
            <h1 class="title">🎯 لعبة الأفعال والأسماء</h1>
        </header>
        
        <div class="level-selector" id="levelSelector">
            <button class="level-btn level-1" onclick="selectLevel(1)">
                🌱 المستوى الأول<br><small>كلمات بسيطة</small>
            </button>
            <button class="level-btn level-2" onclick="selectLevel(2)">
                🌿 المستوى الثاني<br><small>كلمات متوسطة</small>
            </button>
            <button class="level-btn level-3" onclick="selectLevel(3)">
                🌳 المستوى الثالث<br><small>كلمات متقدمة</small>
            </button>
            <button class="level-btn level-4" onclick="selectLevel(4)">
                🔥 المستوى الرابع<br><small>كلمات صعبة</small>
            </button>
            <button class="level-btn level-5" onclick="selectLevel(5)">
                💎 المستوى الخامس<br><small>كلمات خبير</small>
            </button>
        </div>
        
        <div class="level-info" id="levelInfo" style="display: none;">
            <h3 id="levelTitle"></h3>
            <p id="levelDescription"></p>
        </div>
        
        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
        </div>
        
        <div class="score-board" id="scoreBoard" style="display: none;">
            <div class="score-item correct-score">
                <div>إجابات صحيحة ✅</div>
                <div id="correctScore">0</div>
            </div>
            <div class="score-item wrong-score">
                <div>إجابات خاطئة ❌</div>
                <div id="wrongScore">0</div>
            </div>
            <div class="score-item level-score">
                <div>تقدم المستوى 📊</div>
                <div id="levelProgress">0/20</div>
            </div>
            <div class="score-item total-score">
                <div>النقاط الكلية 🏆</div>
                <div id="totalScore">0</div>
            </div>
        </div>
        
        <div class="word-display" id="wordDisplay" style="display: none;">
            <div class="word-info" id="wordInfo"></div>
            <div class="current-word" id="currentWord"></div>
        </div>
        
        <div class="buttons-container" id="buttonsContainer" style="display: none;">
            <button class="choice-btn verb-btn" id="verbBtn" onclick="checkAnswer('verb')">
                🏃‍♂️ فِعْل
            </button>
            <button class="choice-btn noun-btn" id="nounBtn" onclick="checkAnswer('noun')">
                📦 اسْم
            </button>
        </div>
        
        <div class="feedback" id="feedback"></div>
        
        <button class="next-btn" id="nextBtn" onclick="nextWord()" style="display: none;">
            الكلمة التالية ➡️
        </button>
        
        <div class="level-complete" id="levelComplete" style="display: none;">
            <h2>🎉 أحسنت! أكملت المستوى!</h2>
            <div class="final-score" id="levelScore"></div>
            <button class="next-level-btn" id="nextLevelBtn" onclick="nextLevel()">
                المستوى التالي ⬆️
            </button>
            <button class="restart-btn" onclick="restartLevel()">
                إعادة المستوى 🔄
            </button>
        </div>
        
        <div class="game-over" id="gameOver" style="display: none;">
            <h2>🏆 مبروك! أكملت جميع المستويات!</h2>
            <div class="final-score" id="finalScore"></div>
            <button class="restart-btn" onclick="restartGame()">
                🔄 العب من البداية
            </button>
        </div>
    </main>

    <script>
        const wordsData = {
            1: [ // المستوى الأول - كلمات بسيطة
                {word: 'كَتَبَ', type: 'verb', meaning: 'فعل ماضي - قام بالكتابة'},
                {word: 'كِتَابٌ', type: 'noun', meaning: 'اسم جامد - شيء للقراءة'},
                {word: 'أَكَلَ', type: 'verb', meaning: 'فعل ماضي - تناول الطعام'},
                {word: 'طَعَامٌ', type: 'noun', meaning: 'اسم جامد - ما يُؤكل'},
                {word: 'شَرِبَ', type: 'verb', meaning: 'فعل ماضي - تناول السائل'},
                {word: 'مَاءٌ', type: 'noun', meaning: 'اسم جامد - سائل الحياة'},
                {word: 'نَامَ', type: 'verb', meaning: 'فعل ماضي - أخذ قسطاً من الراحة'},
                {word: 'بَيْتٌ', type: 'noun', meaning: 'اسم جامد - مكان السكن'},
                {word: 'جَلَسَ', type: 'verb', meaning: 'فعل ماضي - اتخذ وضعية الجلوس'},
                {word: 'كُرْسِيٌّ', type: 'noun', meaning: 'اسم جامد - أثاث للجلوس'},
                {word: 'لَعِبَ', type: 'verb', meaning: 'فعل ماضي - مارس اللعب'},
                {word: 'لُعْبَةٌ', type: 'noun', meaning: 'اسم جامد - أداة للعب'},
                {word: 'قَرَأَ', type: 'verb', meaning: 'فعل ماضي - تلا النص'},
                {word: 'قَلَمٌ', type: 'noun', meaning: 'اسم جامد - أداة الكتابة'},
                {word: 'مَشَى', type: 'verb', meaning: 'فعل ماضي - تحرك على القدمين'},
                {word: 'طَرِيقٌ', type: 'noun', meaning: 'اسم جامد - مسار للمشي'},
                {word: 'فَتَحَ', type: 'verb', meaning: 'فعل ماضي - أزال الإغلاق'},
                {word: 'بَابٌ', type: 'noun', meaning: 'اسم جامد - مدخل المكان'},
                {word: 'رَكَضَ', type: 'verb', meaning: 'فعل ماضي - جرى بسرعة'},
                {word: 'حَدِيقَةٌ', type: 'noun', meaning: 'اسم جامد - مكان الأشجار والزهور'}
            ],
            2: [ // المستوى الثاني - كلمات متوسطة
                {word: 'يَكْتُبُ', type: 'verb', meaning: 'فعل مضارع - يقوم بالكتابة حالياً'},
                {word: 'كَاتِبٌ', type: 'noun', meaning: 'اسم فاعل - من يمارس الكتابة'},
                {word: 'يَدْرُسُ', type: 'verb', meaning: 'فعل مضارع - يتعلم ويحفظ'},
                {word: 'طَالِبٌ', type: 'noun', meaning: 'اسم فاعل - من يطلب العلم'},
                {word: 'يُعَلِّمُ', type: 'verb', meaning: 'فعل مضارع - ينقل المعرفة'},
                {word: 'مُعَلِّمٌ', type: 'noun', meaning: 'اسم فاعل - من يقوم بالتعليم'},
                {word: 'يَرْسُمُ', type: 'verb', meaning: 'فعل مضارع - يبدع بالألوان'},
                {word: 'رَسَّامٌ', type: 'noun', meaning: 'اسم فاعل - من يمارس الرسم'},
                {word: 'يَطْبُخُ', type: 'verb', meaning: 'فعل مضارع - يحضر الطعام'},
                {word: 'طَبَّاخٌ', type: 'noun', meaning: 'اسم فاعل - من يعد الطعام'},
                {word: 'يَبْنِي', type: 'verb', meaning: 'فعل مضارع - يشيد البناء'},
                {word: 'بَنَّاءٌ', type: 'noun', meaning: 'اسم فاعل - من يقوم بالبناء'},
                {word: 'يَزْرَعُ', type: 'verb', meaning: 'فعل مضارع - يغرس النباتات'},
                {word: 'زَارِعٌ', type: 'noun', meaning: 'اسم فاعل - من يمارس الزراعة'},
                {word: 'يَقُودُ', type: 'verb', meaning: 'فعل مضارع - يتحكم في المركبة'},
                {word: 'سَائِقٌ', type: 'noun', meaning: 'اسم فاعل - من يقود المركبة'},
                {word: 'يَبِيعُ', type: 'verb', meaning: 'فعل مضارع - يتاجر بالسلع'},
                {word: 'بَائِعٌ', type: 'noun', meaning: 'اسم فاعل - من يمارس البيع'},
                {word: 'يَحْرُسُ', type: 'verb', meaning: 'فعل مضارع - يراقب ويحمي'},
                {word: 'حَارِسٌ', type: 'noun', meaning: 'اسم فاعل - من يقوم بالحراسة'}
            ],
            3: [ // المستوى الثالث - كلمات متقدمة
                {word: 'اسْتَكْشَفَ', type: 'verb', meaning: 'فعل ماضي - بحث واكتشف'},
                {word: 'مُسْتَكْشِفٌ', type: 'noun', meaning: 'اسم فاعل - من يقوم بالاستكشاف'},
                {word: 'يَسْتَثْمِرُ', type: 'verb', meaning: 'فعل مضارع - يوظف المال للربح'},
                {word: 'مُسْتَثْمِرٌ', type: 'noun', meaning: 'اسم فاعل - من يقوم بالاستثمار'},
                {word: 'يَتَفَاوَضُ', type: 'verb', meaning: 'فعل مضارع - يجري مباحثات'},
                {word: 'مُفَاوِضٌ', type: 'noun', meaning: 'اسم فاعل - من يقوم بالتفاوض'},
                {word: 'يَتَطَوَّعُ', type: 'verb', meaning: 'فعل مضارع - يعمل بلا أجر'},
                {word: 'مُتَطَوِّعٌ', type: 'noun', meaning: 'اسم فاعل - من يعمل تطوعاً'},
                {word: 'يَتَخَصَّصُ', type: 'verb', meaning: 'فعل مضارع - يركز على مجال معين'},
                {word: 'مُتَخَصِّصٌ', type: 'noun', meaning: 'اسم فاعل - خبير في مجاله'},
                {word: 'يَتَنَافَسُ', type: 'verb', meaning: 'فعل مضارع - يسعى للتفوق'},
                {word: 'مُنَافِسٌ', type: 'noun', meaning: 'اسم فاعل - من يشارك في المنافسة'},
                {word: 'يَتَعَاوَنُ', type: 'verb', meaning: 'فعل مضارع - يعمل مع الآخرين'},
                {word: 'مُتَعَاوِنٌ', type: 'noun', meaning: 'اسم فاعل - من يشارك في العمل'},
                {word: 'يَتَوَاصَلُ', type: 'verb', meaning: 'فعل مضارع - يحافظ على الاتصال'},
                {word: 'مُتَوَاصِلٌ', type: 'noun', meaning: 'اسم فاعل - من يحافظ على التواصل'},
                {word: 'يَتَأَمَّلُ', type: 'verb', meaning: 'فعل مضارع - يفكر بعمق'},
                {word: 'مُتَأَمِّلٌ', type: 'noun', meaning: 'اسم فاعل - من يمارس التأمل'},
                {word: 'يَتَحَدَّى', type: 'verb', meaning: 'فعل مضارع - يواجه الصعوبات'},
                {word: 'مُتَحَدٍّ', type: 'noun', meaning: 'اسم فاعل - من يواجه التحديات'}
            ],
            4: [ // المستوى الرابع - كلمات صعبة
                {word: 'اسْتَقْصَى', type: 'verb', meaning: 'فعل ماضي - بحث بدقة وتفصيل'},
                {word: 'مُسْتَقْصٍ', type: 'noun', meaning: 'اسم فاعل - من يقوم بالاستقصاء'},
                {word: 'يَسْتَنْبِطُ', type: 'verb', meaning: 'فعل مضارع - يستخرج المعنى'},
                {word: 'مُسْتَنْبِطٌ', type: 'noun', meaning: 'اسم فاعل - من يستخرج الأحكام'},
                {word: 'يَتَفَلْسَفُ', type: 'verb', meaning: 'فعل مضارع - يتعمق في التفكير'},
                {word: 'مُتَفَلْسِفٌ', type: 'noun', meaning: 'اسم فاعل - من يمارس الفلسفة'},
                {word: 'يَسْتَشْرِفُ', type: 'verb', meaning: 'فعل مضارع - يتطلع للمستقبل'},
                {word: 'مُسْتَشْرِفٌ', type: 'noun', meaning: 'اسم فاعل - من يتطلع للمستقبل'},
                {word: 'يَتَبَصَّرُ', type: 'verb', meaning: 'فعل مضارع - يتأمل بحكمة'},
                {word: 'مُتَبَصِّرٌ', type: 'noun', meaning: 'اسم فاعل - صاحب البصيرة'},
                {word: 'يَسْتَقْرِئُ', type: 'verb', meaning: 'فعل مضارع - يستنتج من الجزئيات'},
                {word: 'مُسْتَقْرِئٌ', type: 'noun', meaning: 'اسم فاعل - من يمارس الاستقراء'},
                {word: 'يَتَدَبَّرُ', type: 'verb', meaning: 'فعل مضارع - يتفكر بعمق'},
                {word: 'مُتَدَبِّرٌ', type: 'noun', meaning: 'اسم فاعل - من يتدبر الأمور'},
                {word: 'يَسْتَنْتِجُ', type: 'verb', meaning: 'فعل مضارع - يخرج بخلاصة'},
                {word: 'مُسْتَنْتِجٌ', type: 'noun', meaning: 'اسم فاعل - من يستخرج النتائج'},
                {word: 'يَتَأَوَّلُ', type: 'verb', meaning: 'فعل مضارع - يفسر المعاني'},
                {word: 'مُتَأَوِّلٌ', type: 'noun', meaning: 'اسم فاعل - من يفسر النصوص'},
                {word: 'يَسْتَدِلُّ', type: 'verb', meaning: 'فعل مضارع - يبرهن بالأدلة'},
                {word: 'مُسْتَدِلٌّ', type: 'noun', meaning: 'اسم فاعل - من يقدم الأدلة'}
            ],
            5: [ // المستوى الخامس - كلمات خبير
                {word: 'اسْتَحْوَذَ', type: 'verb', meaning: 'فعل ماضي - سيطر واستولى'},
                {word: 'مُسْتَحْوِذٌ', type: 'noun', meaning: 'اسم فاعل - من يسيطر على الأمور'},
                {word: 'يَسْتَشْعِرُ', type: 'verb', meaning: 'فعل مضارع - يدرك بالحواس'},
                {word: 'مُسْتَشْعِرٌ', type: 'noun', meaning: 'اسم فاعل - من يدرك الأمور بحساسية'},
                {word: 'يَتَمَعَّنُ', type: 'verb', meaning: 'فعل مضارع - يدقق النظر'},
                {word: 'مُتَمَعِّنٌ', type: 'noun', meaning: 'اسم فاعل - من يدقق في الأمور'},
                {word: 'يَسْتَطْلِعُ', type: 'verb', meaning: 'فعل مضارع - يستكشف الآراء'},
                {word: 'مُسْتَطْلِعٌ', type: 'noun', meaning: 'اسم فاعل - من يجري الاستطلاعات'},
                {word: 'يَتَمَحْوَرُ', type: 'verb', meaning: 'فعل مضارع - يدور حول نقطة'},
                {word: 'مُتَمَحْوِرٌ', type: 'noun', meaning: 'اسم فاعل - من يركز على نقطة واحدة'},
                {word: 'يَسْتَقْطِبُ', type: 'verb', meaning: 'فعل مضارع - يجذب إليه'},
                {word: 'مُسْتَقْطِبٌ', type: 'noun', meaning: 'اسم فاعل - من يجذب الآخرين'},
                {word: 'يَتَبَلْوَرُ', type: 'verb', meaning: 'فعل مضارع - يتشكل ويتضح'},
                {word: 'مُتَبَلْوِرٌ', type: 'noun', meaning: 'اسم فاعل - ما يتشكل ويظهر'},
                {word: 'يَسْتَهْدِفُ', type: 'verb', meaning: 'فعل مضارع - يضع هدفاً'},
                {word: 'مُسْتَهْدِفٌ', type: 'noun', meaning: 'اسم مفعول - ما يُراد الوصول إليه'},
                {word: 'يَتَمَكَّنُ', type: 'verb', meaning: 'فعل مضارع - يصبح قادراً'},
                {word: 'مُتَمَكِّنٌ', type: 'noun', meaning: 'اسم فاعل - من يملك القدرة والمهارة'},
                {word: 'يَسْتَوْعِبُ', type: 'verb', meaning: 'فعل مضارع - يفهم ويستيعب'},
                {word: 'مُسْتَوْعِبٌ', type: 'noun', meaning: 'اسم فاعل - من يفهم الأمور جيداً'}
            ]
        };
        
        const levelInfo = {
            1: {title: '🌱 المستوى الأول - البداية', description: 'كلمات بسيطة من الحياة اليومية'},
            2: {title: '🌿 المستوى الثاني - التقدم', description: 'أفعال مضارعة وأسماء فاعلة'},
            3: {title: '🌳 المستوى الثالث - التطور', description: 'كلمات متقدمة من الحياة العملية'},
            4: {title: '🔥 المستوى الرابع - التحدي', description: 'مفردات معقدة تتطلب تركيزاً عالياً'},
            5: {title: '💎 المستوى الخامس - الخبرة', description: 'أصعب المفردات للخبراء في اللغة'}
        };
        
        let currentLevel = 1;
        let currentWordIndex = 0;
        let correctAnswers = 0;
        let wrongAnswers = 0;
        let totalScore = 0;
        let gameStarted = false;
        let answered = false;
        let currentWords = [];
        
        function selectLevel(level) {
            currentLevel = level;
            currentWordIndex = 0;
            correctAnswers = 0;
            wrongAnswers = 0;
            answered = false;
            gameStarted = true;
            
            // إخفاء اختيار المستوى وإظهار اللعبة
            document.getElementById('levelSelector').style.display = 'none';
            document.getElementById('levelInfo').style.display = 'block';
            document.getElementById('progressBar').style.display = 'block';
            document.getElementById('scoreBoard').style.display = 'grid';
            document.getElementById('wordDisplay').style.display = 'block';
            document.getElementById('buttonsContainer').style.display = 'flex';
            
            // تحديث معلومات المستوى
            document.getElementById('levelTitle').textContent = levelInfo[level].title;
            document.getElementById('levelDescription').textContent = levelInfo[level].description;
            
            // نسخ كلمات المستوى وخلطها
            currentWords = [...wordsData[level]];
            shuffleArray(currentWords);
            
            updateScore();
            updateProgress();
            showCurrentWord();
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function showCurrentWord() {
            if (currentWordIndex >= currentWords.length) {
                completeLevel();
                return;
            }
            
            const currentWord = currentWords[currentWordIndex];
            document.getElementById('currentWord').textContent = currentWord.word;
            document.getElementById('wordInfo').textContent = `الكلمة ${currentWordIndex + 1} من ${currentWords.length}`;
            document.getElementById('feedback').innerHTML = '';
            document.getElementById('nextBtn').style.display = 'none';
            
            document.getElementById('verbBtn').disabled = false;
            document.getElementById('nounBtn').disabled = false;
            answered = false;
            
            updateProgress();
        }
        
        function checkAnswer(selectedType) {
            if (answered) return;
            
            answered = true;
            const currentWord = currentWords[currentWordIndex];
            const feedbackElement = document.getElementById('feedback');
            
            document.getElementById('verbBtn').disabled = true;
            document.getElementById('nounBtn').disabled = true;
            
            if (selectedType === currentWord.type) {
                correctAnswers++;
                totalScore += currentLevel * 10; // نقاط أكثر للمستويات الأصعب
                feedbackElement.innerHTML = `<div class="correct">✅ إجابة صحيحة!<br>"${currentWord.word}" ${currentWord.meaning}</div>`;
            } else {
                wrongAnswers++;
                const correctTypeArabic = currentWord.type === 'verb' ? 'فِعْل' : 'اسْم';
                feedbackElement.innerHTML = `<div class="wrong">❌ إجابة خاطئة!<br>"${currentWord.word}" ${correctTypeArabic}<br>${currentWord.meaning}</div>`;
            }
            
            updateScore();
            document.getElementById('nextBtn').style.display = 'block';
        }
        
        function nextWord() {
            currentWordIndex++;
            showCurrentWord();
        }
        
        function updateScore() {
            document.getElementById('correctScore').textContent = correctAnswers;
            document.getElementById('wrongScore').textContent = wrongAnswers;
            document.getElementById('levelProgress').textContent = `${currentWordIndex}/${currentWords.length}`;
            document.getElementById('totalScore').textContent = totalScore;
        }
        
        function updateProgress() {
            const progress = (currentWordIndex / currentWords.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }
        
        function completeLevel() {
            const totalQuestions = currentWords.length;
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            const levelPoints = correctAnswers * currentLevel * 10;
            
            let message = '';
            if (percentage >= 90) {
                message = '🌟 ممتاز جداً! أداء استثنائي!';
            } else if (percentage >= 80) {
                message = '👏 أحسنت! أداء ممتاز!';
            } else if (percentage >= 70) {
                message = '👍 جيد جداً! أداء جيد!';
            } else if (percentage >= 60) {
                message = '😊 جيد! يمكنك التحسن!';
            } else {
                message = '💪 لا بأس، حاول مرة أخرى!';
            }
            
            document.getElementById('levelScore').innerHTML = `
                <div><strong>${levelInfo[currentLevel].title}</strong></div>
                <div>النتيجة: ${correctAnswers} من ${totalQuestions}</div>
                <div>النسبة المئوية: ${percentage}%</div>
                <div>نقاط المستوى: ${levelPoints}</div>
                <div style="margin-top: 15px; color: #2d3748;">${message}</div>
            `;
            
            // إخفاء عناصر اللعبة وإظهار شاشة إكمال المستوى
            document.getElementById('wordDisplay').style.display = 'none';
            document.getElementById('buttonsContainer').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('levelComplete').style.display = 'block';
            
            // إخفاء زر المستوى التالي إذا كان هذا آخر مستوى
            if (currentLevel >= 5) {
                document.getElementById('nextLevelBtn').style.display = 'none';
            }
        }
        
        function nextLevel() {
            if (currentLevel < 5) {
                selectLevel(currentLevel + 1);
                document.getElementById('levelComplete').style.display = 'none';
            } else {
                endGame();
            }
        }
        
        function restartLevel() {
            document.getElementById('levelComplete').style.display = 'none';
            selectLevel(currentLevel);
        }
        
        function endGame() {
            const allLevelsScore = totalScore;
            
            document.getElementById('finalScore').innerHTML = `
                <div><strong>🏆 النتيجة النهائية</strong></div>
                <div>إجمالي النقاط: ${allLevelsScore}</div>
                <div>أكملت جميع المستويات الخمسة!</div>
                <div style="margin-top: 15px; color: #2d3748;">🎉 مبروك! أنت خبير في قواعد اللغة العربية!</div>
            `;
            
            document.getElementById('levelComplete').style.display = 'none';
            document.getElementById('gameOver').style.display = 'block';
        }
        
        function restartGame() {
            // إعادة تعيين جميع المتغيرات
            currentLevel = 1;
            currentWordIndex = 0;
            correctAnswers = 0;
            wrongAnswers = 0;
            totalScore = 0;
            gameStarted = false;
            answered = false;
            currentWords = [];
            
            // إخفاء جميع الشاشات وإظهار اختيار المستوى
            document.getElementById('gameOver').style.display = 'none';
            document.getElementById('levelComplete').style.display = 'none';
            document.getElementById('levelInfo').style.display = 'none';
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('scoreBoard').style.display = 'none';
            document.getElementById('wordDisplay').style.display = 'none';
            document.getElementById('buttonsContainer').style.display = 'none';
            document.getElementById('levelSelector').style.display = 'flex';
            
            // إزالة التحديد من أزرار المستوى
            const levelBtns = document.querySelectorAll('.level-btn');
            levelBtns.forEach(btn => btn.classList.remove('active'));
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9901a2fe8299b6d1',t:'MTc2MDcyMzQxMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
